/*! match-file-utility 2016-01-28 */
function matchFile(a,b){return matchFile.chain(a,b)}fs=require("fs"),path=require("path"),matchFile.fn={},"object"==typeof module&&(module.exports=matchFile),matchFile.fn.rename=function(a,b){a.forEach(function(a,c){var d=b.replace(/\$([a-zA-Z0-9]+)/g,function(a,b){return"dir"===b?path.dirname(b):"filename"===b?path.basename(b):isNaN(Number(b))?void 0:m[Number(b+1)]});fs.rename(a,d),fileObject[c]=d})},matchFile.fn.smartSort=function(a){function b(a,b){return a.length>2&&a.length===b.length&&a.slice(0,-2).join("")===b.slice(0,-2).join("")?"min"===a.slice(-2)[0]?-1:"min"===b.slice(-2)[0]?1:a.slice(-2).join("")>b.slice(-2).join("")?1:a.slice(-2).join("")<b.slice(-2).join("")?-1:0:a.join("")>b.join("")?1:-1}function c(a,c){var d=path.dirname(a),e=path.dirname(c),f=path.basename(a),g=path.basename(c),h=f.match(/[a-zA-Z0-9]+/g),i=g.match(/[a-zA-Z0-9]+/g);return d===e?/^init\.[a-z]+$/.test(f)?1:/^init\.[a-z]+$/.test(g)?-1:h.length===i.length?b(h,i):h.length>i.length?1:h.length<i.length?-1:f>g?1:-1:d>e?1:-1}a.sort(function(a,b){var d=a.split(path.sep).length,e=b.split(path.sep).length;return d!==e?d-e:c(a,b)})},function(){var a=[];matchFile.chain=function(b,c){function d(b){var e=fs.readdirSync(b);e.forEach(function(e){var f,g=path.join(b,e);fs.lstatSync(g).isDirectory()?d(g):c.test(e)&&(f=e.match(c),f.length>1&&(f=f.slice(1)),a.push(g))})}return a.splice(0),d(b),a};for(var b in matchFile.fn)a[b]=function(b){return function(){return matchFile.fn[b].apply(null,[a].concat([].slice.call(arguments))),a}}(b)}();