/*! match-file-utility 2016-01-26 */
function matchFile(a,b,c){function d(a){var c=fs.readdirSync(a);c.forEach(function(c){var f,g=path.join(a,c);fs.lstatSync(g).isDirectory()?d(g):b.test(c)&&(f=c.match(b),f.length>1&&(f=f.slice(1)),e.push(g))})}var e=[];return e.smartSort=function(){function a(a,b){var c=path.dirname(a),d=path.dirname(b),e=path.basename(a),f=path.basename(b);return c===d?e.length>f.length?1:e.length<f.length?-1:a.filename>b.filename?1:-1:c>d?1:-1}return e.sort(function(b,c){var d=b.split(path.sep).length,e=c.split(path.sep).length;return d!==e?d-e:a(b,c)}),e},e.rename=function(a){return e.forEach(function(b,c){var d=a.replace(/\$([a-zA-Z0-9]+)/g,function(a,b){return"dir"===b?path.dirname(b):"filename"===b?path.basename(b):isNaN(Number(b))?void 0:m[Number(b+1)]});fs.rename(b,d),fileObject[c]=d}),e},d(a),"function"==typeof c&&c(),e}fs=require("fs"),path=require("path"),"object"==typeof module&&(module.exports=matchFile);